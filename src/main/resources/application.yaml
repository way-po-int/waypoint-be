spring:
  application:
    name: mvp
  profiles:
    active: local
  config:
    import:
      - optional:file:.env[.properties]
  messages:
    basename: i18n/errors
    fallback-to-system-locale: false
  jackson:
    property-naming-strategy: SNAKE_CASE
  jpa:
    open-in-view: false
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${OAUTH2_GOOGLE_CLIENT_ID}
            client-secret: ${OAUTH2_GOOGLE_CLIENT_SECRET}
            redirect-uri: "{baseUrl}/login/oauth2/code/google"
            scope:
              - openid
              - email
              - profile
          kakao:
            client-id: ${OAUTH2_KAKAO_CLIENT_ID}
            client-secret: ${OAUTH2_KAKAO_CLIENT_SECRET}
            client-authentication-method: client_secret_post
            authorization-grant-type: authorization_code
            redirect-uri: "{baseUrl}/login/oauth2/code/kakao"
            scope:
              - openid
          naver:
            client-id: ${OAUTH2_NAVER_CLIENT_ID}
            client-secret: ${OAUTH2_NAVER_CLIENT_SECRET}
            client-authentication-method: client_secret_post
            authorization-grant-type: authorization_code
            redirect-uri: "{baseUrl}/login/oauth2/code/naver"
            scope:
              - openid
              - profile
        provider:
          kakao:
            issuer-uri: https://kauth.kakao.com
          naver:
            issuer-uri: https://nid.naver.com
      redirect-uri: ${OAUTH2_REDIRECT_URI}
  ai:
    google:
      genai:
        api-key: ${GOOGLE_GENAI_API_KEY}
        chat:
          options:
            model: ${GOOGLE_GENAI_MODEL:gemini-2.5-flash-lite}
            safety-settings:
              - category: HARM_CATEGORY_HATE_SPEECH # 증오심 표현 및 콘텐츠
                threshold: BLOCK_ONLY_HIGH
              - category: HARM_CATEGORY_DANGEROUS_CONTENT # 위험한 콘텐츠
                threshold: BLOCK_ONLY_HIGH
              - category: HARM_CATEGORY_HARASSMENT # 괴롭힘 콘텐츠
                threshold: BLOCK_ONLY_HIGH
              - category: HARM_CATEGORY_SEXUALLY_EXPLICIT # 음란물
                threshold: BLOCK_ONLY_HIGH
  task:
    execution:
      shutdown:
        await-termination: true
        await-termination-period: 120s

server:
  forward-headers-strategy: framework

cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS}
  allowed-methods: ${CORS_ALLOWED_METHODS}
  allowed-headers: ${CORS_ALLOWED_HEADERS}

jwt:
  secret: ${JWT_SECRET}
  access-expires-in: ${JWT_ACCESS_EXPIRES_IN:3600} # 1시간
  refresh-expires-in: ${JWT_REFRESH_EXPIRES_IN:604800} # 7일

google:
  youtube:
    api-key: ${GOOGLE_YOUTUBE_API_KEY}
  places:
    api-key: ${GOOGLE_PLACES_API_KEY:}
    base-url: https://places.googleapis.com
    text-search-path: /v1/places:searchText
    details-path: /v1/places/{placeId}

waypoint:
  invitation:
    expiration-hours: ${WAYPOINT_INVITATION_EXPIRATION_HOURS:168}
  frontend:
    base-url: ${WAYPOINT_FRONTEND_BASE_URL:http://localhost:3000}
  cookie:
    guest-access-token-name: "waypoint_guest"
    guest-access-token-max-age-seconds: 604800 # 7일
    refresh-token-name: "refresh_token"
